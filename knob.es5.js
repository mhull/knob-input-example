function KnobInput(i){var a,e,t,n,r,u,o,l;function g(){return{initialAngle:225,range:{min:{angle:225,value:0},max:{angle:-45,value:100}}}}function c(n,e){i[n]=e}function v(n){return d(n)*m()+i.range.min.value}function d(n){return Math.abs(n-i.range.min.angle)/s()}function m(){return Math.abs(i.range.max.value-i.range.min.value)}function f(){return i.range.max.angle>i.range.min.angle?1:-1}function s(){return Math.abs(i.range.max.angle-i.range.min.angle)}function h(n){var e;u=n,e=-1*(n-90),a.style.transform="rotate(".concat(e,"deg)")}function p(n){e.value=n}function x(n){y(!0),M(b(n)),n.dataTransfer.setDragImage(document.createElement("div"),0,0)}function y(n){r=Boolean(n)}function b(n){return{x:n.pageX,y:n.pageY}}function M(n){var e;o=u,e=T(n),l=e}function A(){y(!1)}function E(n){r&&L(b(n))}function L(n){var e,a=T(n),t=o+(a-l);e=t,(0<f()?i.range.min.angle<e&&e<i.range.max.angle:i.range.max.angle<e&&e<i.range.min.angle)||(t=d(t)<.5?i.range.min.angle:i.range.max.angle),h(t),p(v(t))}function T(n){var e,a,t,r={x:k(e=n),y:q(e),hyp:function(n){var e=Math.pow(k(n),2),a=Math.pow(q(n),2);return Math.sqrt(e+a)}(e)},i=(a=r,Math.asin(a.y/a.hyp)*(180/Math.PI));return t=i,0<r.x?I()+t:I()+(180-t)}function k(n){return n.x-t.x}function q(n){return t.y-n.y}function I(){return Math.floor(u/360)}function F(n){M(w(n))}function S(n){L(w(n))}function w(n){return(e=n).isTrusted&&1===e.changedTouches.length&&{x:n.changedTouches[0].pageX,y:n.changedTouches[0].pageY};var e}function B(n){var e=parseFloat(n.target.value);!e&&0!==e||h(function(n){return function(n){return Math.abs(n-i.range.min.value)/m()}(n)*s()*f()+i.range.min.angle}(e))}!function(){var n;return null===(n=i.el)||void 0===n?void 0:n.matches(".knob.component")}()||i.initialAngle&&!parseFloat(i.initialAngle)||!function(){var n,e,a,t,r;return!(null!==(n=i.range)&&void 0!==n&&n.min)||"number"==typeof(null===(e=i.range)||void 0===e||null===(a=e.min)||void 0===a?void 0:a.angle)&&"number"==typeof(null===(t=i.range)||void 0===t||null===(r=t.min)||void 0===r?void 0:r.value)}()||!function(){var n,e,a,t,r;return!(null!==(n=i.range)&&void 0!==n&&n.max)||"number"==typeof(null===(e=i.range)||void 0===e||null===(a=e.max)||void 0===a?void 0:a.angle)&&"number"==typeof(null===(t=i.range)||void 0===t||null===(r=t.max)||void 0===r?void 0:r.value)}()||(a=i.el.querySelector(".knob.body"),e=i.el.querySelector(".knob.input input"),t={x:((n=a.getBoundingClientRect()).left+n.right)/2,y:(n.top+n.bottom)/2},r=!1,l=o=u=null,c("range",{min:function(){var n;return(null===(n=i.range)||void 0===n?void 0:n.min)||g().range.min}(),max:function(){var n;return(null===(n=i.range)||void 0===n?void 0:n.max)||g().range.max}()}),c("initialAngle",parseFloat(i.initialAngle)||g().initialAngle),p(v(i.initialAngle)),h(i.initialAngle),a.addEventListener("dragstart",x),a.addEventListener("dragend",A),document.addEventListener("dragover",E),a.addEventListener("touchstart",F),a.addEventListener("touchmove",S),e.addEventListener("change",B))}KnobInput({el:document.querySelector(".knob.component")});
